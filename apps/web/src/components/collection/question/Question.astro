---
import ChevronDown from "@lucide/astro/icons/chevron-down";

interface Props {
  title: string;
  answer: string[];
}

const { title, answer } = Astro.props;
---

<div class="bg-theme-background-highlight rounded-lg" x-data="{ open: false }">
  <button type="button" class="flex w-full cursor-pointer items-center gap-2.5 px-6 py-5 text-left sm:px-7 sm:py-6" @click="open = !open" :aria-expanded="open">
    <span class="text-theme-foreground-bold flex-1 leading-normal font-bold" set:text={title} />
    <ChevronDown class="text-theme-brand size-5 shrink-0 transition-transform duration-200" :class="open && 'rotate-180'" aria-hidden="true" />
  </button>
  <div x-show="open" x-collapse class="px-6 pb-5 text-sm sm:px-7 sm:pb-6">
    <div class="flex flex-col gap-4">
      {answer.map(paragraph => <p>{paragraph}</p>)}
    </div>
  </div>
</div>
